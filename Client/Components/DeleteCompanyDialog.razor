<ModalDialog @ref="Modal" ModalTitle="Delete Company">
    <ModalContent>
        <p class="text-danger">Are you sure you want to delete <strong>@Company.CompanyName</strong>?</p>
        <p class="text-danger"><i class="fas fa-exclamation-triangle"></i> <strong>WARNING: </strong>You cannot undo this action!</p>
    </ModalContent>
    <ModalFooter>
        <button type="button" class="btn btn-danger">Delete</button>
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal" @onclick="Modal.Hide">Cancel</button>
    </ModalFooter>
</ModalDialog>

@code {
    [Parameter]
    public CompanyDTO Company { get; set; }

    [Parameter]
    public EventCallback<CompanyDTO> OnCompanyDeleted { get; set; }

    [Inject]
    public ICompanyDataService CompanyDataService { get; set; }

    ModalDialog Modal { get; set; }

    public async Task Hide()
    {
        await Modal.Hide();
    }

    public void Show()
    {
        Modal.Show();
    }

    protected async Task HandleDelete()
    {
        await CompanyDataService.DeleteCompanyAsync(Company.Id);
        await Hide();
        await OnCompanyDeleted.InvokeAsync(Company);
    }
}
